<!DOCTYPE HTML>
<!--
	Story by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Why Some Beers Spark Debate: A Short Walk Through Controversial Brews</title>
		<meta charset="utf-8" />
		<link rel="icon" href="images/icon.png" type="image/x-icon" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
		<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper" class="divided">

				<!-- One -->
					<section class="banner style1 orient-left content-align-left image-position-center fullscreen onload-image-fade-in onload-content-fade-right invert">
						<div class="content">
							<h1><strong>Why Some Beers Spark Debate:</strong></h1>
							<h2>A Short Walk Through Controversial Brews</h2>
							
							<br>
							<br>

							<p class="major">Discover with us the in-depth analysis of the controversiality hidden behind beers.</a></p>
							<ul class="actions stacked">
								<li><a href="#first" class="button big wide smooth-scroll-middle">Get Started</a></li>
							</ul>
						</div>
						<div class="image">
							<img src="images/banner.jpg" alt="" />
						</div>
					</section>

				<!-- Two -->

				<section class="wrapper style1 align-left" id="first">
					<div class="inner">
					<div class="content">

							<blockquote><strong>The best beer is where priests go to drink. For a quart of Ale is a dish for a king.</strong></blockquote>
							<p style="font-size: smaller; font-style: italic; text-align: right; margin-right: 5em;">William Shakespeare</p>

						</div>
					</div>
				</section>

				<section class="wrapper style1 align-left">
					<div class="inner">

						<p>Shakespeare's poetic reference to beer demonstrates its esteemed position in society, even during the 17th century.
							However, even though his preference is solely a personal choice, which would likely be a topic of debate among enthusiasts,
							 beer has a longstanding cultural significance, enjoyed across diverse regions with unique brewing traditions.</p>
							 
					   <p> In the current globalised market, beer has become a shared experience with a wide range of preferences. 
						   While some beers achieved universal acclaim, others have sparked debate due to differences in flavor, regional brewing methods, and cultural context.
						   This dynamic interplay of preference and locality has turned some brews into cultural symbols and conversation starters.</p>

					   <p> The objective is to gain insight into the factors influencing the varying perceptions of beers. 
						   The analysis will focus on several categories: from « controversial » brews, which are those that receive polarised reviews, to « universal » beers, which receive more consistent reviews. 
						   The study analyses both quantitative ratings and textual reviews in order to examine how sensory attributes, such as aroma, appearance, palate and taste, influence consumer opinion. 
						   The study also examines regional differences and compares the input of novices and experts in order to gain insight into why some beers have broad appeal while others are the subject of intense debate.</p>

					   <p>Grab your favorite brew, and let's explore what the data says about the beers that stir up the strongest reactions.</p>

						<br>
						<br>

						<h2>Research questions</h2>
						<p>The following key questions define how this study is structured and what are the main topic that we will explore.</p>						
						<ul class="default" style="margin-left: 50px;">
							<li>How can we define and classify beer controversiality, and which numerical attributes best predict it? Can we use the textual review to enhance our classification?</li>
							<li>Are there features explaining controversiality, and do they depend on the beer itself? </li>
							------------------------------------------------------------------------------------------------------------
							<li>How can we define controversiality and can we distinguish these two classes effectively?</li>
							<br>
							<li>Is the text review coherent with the numerical grade given by the user ? Can we use this text to enhance our controversiality definition ?</li>
							<br>
							<li>Which attributes, such as aroma, appearance, palate, and taste, are most associated with a beer being perceived as controversial?</li>
							<br>
							<li>Are certain regions more likely to produce controversial beers or to have distinct, less popular opinions? Are locally brewed beers rated more controversially compared to foreign ones?</li>
							<br>
							<li>Does the number of reviews made by the reviewer contribute to controversial ratings? Does the origin of the rater have an impact on the rating?</li>
						</ul>
					</div>
				</section>

				<section class="wrapper style1 align-left">
					<div class="inner">
						<header>
							<h2><a href="https://drive.google.com/drive/folders/1lcRRxlPpcyAcqJzanlwcyb5Vmip0s7_D" target="_blank">Data</a> presentation</h2>
						</header>

						<p>
							To begin this analysis, we first uncovered an interesting pattern: some breweries, beers, and users were present in both <a href="https://drive.google.com/drive/folders/1hhNM7Hc2ZrOtNWaflbaVKFFWpyVeiSbw" target="_blank">RateBeer</a> and <a href="https://drive.google.com/drive/folders/1fwgH0RK4vAZ5i9HI-rPUbXNdC09qrss-" target="_blank">BeerAdvocate</a>.	We also found instances where a single brewery in one dataset corresponded to multiple entries in the other.
							We merged the two datasets into a single unified <a href="https://drive.google.com/drive/folders/1QlduSz83RzRv58ec6sGmJ7K6TlWlWi44" target="_blank">one</a> encompassing beers, breweries, users, and reviews, with consistent ID  matching across all features.
							More details on how the datasets were merged can be found <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/data/README.md" target="_blank">here</a>.
						<!-- TODO: CHECK LINK! -->
						</p>
						<p>
							With the data now organized into a more accessible format, we can begin examining its core content. We start by looking at some key numbers.
						</p>
						<div class="image" style="text-align: center;">
							<h3 style="text-align: center;"><strong>Dataset summary</strong></h3>
							<img src="images/dataset_summary.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							This dataset provides a rich source of information for our analysis. Notably, approximately <strong>90% of the beers have at least one review</strong>, ensuring that the research will be both meaningful and insightful.
							For this project, we will focus solely on these beers.
						</p>
						<p>
							It is important to acknowledge, however, that the dataset is not fully representative. A significant portion of the reviews comes from American users, meaning our analysis primarily caters to their preferences and tastes.
							We decided not to rebalance the dataset, as doing so would have excluded many brews and reviews, that are still relevant to our analysis.
    						Below is a visualization highlighting the 20 countries with the most reviews in our dataset.
						</p>
						<div class="flourish-embed flourish-hierarchy" data-src="visualisation/20776364"><h3 style="text-align: center;"><strong>Top countries by number of beer ratings</strong></h3><script src="https://public.flourish.studio/resources/embed.js"></script><noscript><img src="https://public.flourish.studio/visualisation/20776364/thumbnail" width="100%" alt="hierarchy visualization" /></noscript></div>
						<!-- TODO: How do we change "number of ratings" to "number of reviews"? -->
						<p>
							Reviews from both websites follow a similar structure: users rate the appearance, aroma, palate, and taste of each beer, as well as provide an overall grade.
							To standardize the data, we converted all ratings to a unified 1-to-5 scale, as this range is the most widely used. Please note that some of the scaled ratings have a different resolution.
						</p>
					</div>
				</section>

				<section class="wrapper style1 align-left">
					<div class="inner">
						<header>
							<h2>Exploring the definition of controversiality</h2>
						</header>

						<p>
							To identify controversiality in our dataset, we first need to define what it means and how to measure it. Let’s start with a general definition:
						</p>
						<dl>
							<dt>Controversial:</dt>
							<dd>
								<p>"subject of intense public argument, disagreement, or disapproval" 
								<sup>[<a href="https://www.collinsdictionary.com/dictionary/english/controversial" target="_blank" rel="noopener noreferrer">1</a>]</sup>
								</p>
							</dd>
						</dl>
						<p>
							While this definition is broad and applies to various situations, our analysis narrows it to beers with the most polarised reviews: those that are most likely to spark disagreement, even with a Shakespeare fan in the room.
							We base our analysis on user ratings across appearance, aroma, palate, taste and overall features as well as textual reviews.
						</p>
						<h4><strong>Preliminary considerations</strong></h4>
						<p>
							The metrics used for this analyis of user ratings is the variance, which describes the level of disagreement around the average score.
							Since variance is dimension-independent, it provides a consistent measure across attributes, relying uniquely on the given ratings.
							<br>
							<br>
							To ensure reliable results, we exclude beers with fewer than <strong>30</strong> ratings or reviews.
							More details on this decision can be found <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/data/README.md" target="_blank">here</a>, as beers with lower ratings may show higher variance (e.g.only two extreme opinions).
						</p>
						<!-- TODO: CHECK LINK AND CHECK THE # RATINGS ! -->
						<h4><strong>First classification</strong></h4>
						<p>
							With the data cleaned, the first step in classifying beers as controversial or not involves analyzing
							the variances of each attribute. It may seem logical to use the variance of the overall grade, as it reflects a combination of each attribute.
							However, setting a threshold for this variance presents challenges.
							A <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/data/README.md" target="_blank">deeper analysis</a> revealed
							that using an arbitrary threshold primarily highlighted taste as the most polarizing factor.
							We believe that relying solely on a single parameter oversimplifies controversiality, and that it is inherently multi-dimensional and influenced by the interaction of all attributes.
						</p>

						<h4><strong>Clustering</strong></h4>

						<p>
							Recognising the limitations of a one-dimensional approach, we turned to a clustering method, only using the grades, and keeping the text for later.
							We chose to use a Gaussian Mixture Model (GMM), factoring in the variances of all five attributes, to group together beers.
							<br>
							<br>
							Using the elbow method on the negative log-likelihood plot, we determined <strong>3</strong> clusters to be optimal.
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/gmm_label.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							<br>
							The clusters were computed using standardised variances. 
							They serve as our key metric for controversiality: High variance indicates controversy or disagreement, while low variance suggests a universal appeal.
							The plot shows scaled variances, where smaller values (near 0) represent low variance, and larger values indicate high variance. For each subplot, the variance is represented by the distance from the origin of a point.
							Based on this, we define the clusters as follows:
						</p>
						<ul>
							<li>Cluster 0 : Controversial beers, representing 8.96% of the beers.</li>
							<li>Cluster 1 : Universal beers, representing 41.41% of the beers.</li>
							<li>Cluster 2 : Neutral beers, representing 49.63% of the beers.</li>
						</ul> 
						<!-- TODO: CHECK THE NUMBERS ! -->
						<br>

						<h2>Extracting insights from textual reviews</h2>

						<p>
							The Gaussian Mixture Model offers a more effective analysis by considering the interaction of all attributes.
							We are now going to extend our exploration by including insights from textual reviews to better define beer controversiality.
							Our first approach was to use a <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/src/scripts/sentiment%20analysis/README.md" target="_blank">sentiment analysis model</a> on every qualitative review, classifying each review as either Positive, Neutral, or Negative.
							<br>
							<br>

							With this new information, we attempted the Gaussian Mixture Model again, this time incorporating sentiment classifications.
							Three models were constructed, each categorizes beers into three categories (Controversial, Universal and Neutral), but differs in the data used:
							<ul>
								<li><strong>Model 1</strong> is computed for all ratings, computed before.</li>
								<li><strong>Model 2</strong> is computed only for ratings with text, accounting for sentiment label.</li>
								<li><strong>Model 3</strong> is computed only for ratings with text, not accounting for sentiment label.</li>
							</ul>
						</p>
						<div class="image" style="text-align: center;">
							<h3 style="text-align: center;"><strong>Percentage of beers that have the same labels between models</strong></h3>
							<img src="images/similarity_sentiment.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							Restricting the data to only reviews with text results in a <strong>13% loss</strong> in the dataset size.
							Despite the additional information provided by sentiment analysis, the results showed that the similarity between
							the models was high, suggesting that sentiment analysis did not significantly alter the classification.
							Considering the lack of improvement in classification accuracy, the loss of data and the uncertainty added by the sentiment analysis,
							we will follow without using the sentiment analysis.
						</p>
						<!-- TODO: C'est une si petite loss de data ???? ! -->

						<h2>Exploring the definition of controversiality</h2>

						<p>
							Now that we have a good classification for the controversiality of the beers, we can start to explore the data to find the reasons behind it.
						</p>

						<p>
							<h4><strong>Alcohol By Volume</strong></h4>

							Alcohol By Volume (ABV) is a key attribute of beer, influencing its taste. 
							We found, as expected, that extreme values of ABV are related to the controversilty of a beer. 
							For the next part we choose to not plot the beers beyond 20% ABV as they are too few to be significant, 
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/abv.png" style="max-width: 100%; height: auto;"/>
						</div>

						----- VALENTIN
						<p>
							By analysing the evolution of the proportion of the classification of the beers per level of alcohol by volume we can extract two main points:
							<ul>
								<li>After a peak at around 5%, the more alcohol by volume the less beers there is.</li>
								<li>Most of the common beers (with an ABV between 2.5% and 7.5%) are neutral and some are controversial.</li>
								<li>Beers with a low abv (<5%) tends to be controversial or neutral, beers with a very high abv (>15%) also tends to shows this behaviour.</li>
								<li>Interestingly, the stronger beers (between 6% and 16%) are more likely to be universal or neutral.
									This would mean that the ratings of the users tends to converge on relatively strong beers.</li>
							</ul>
							<h4><strong>Number of ratings per beer</strong></h4>
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/number_of_ratings.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							The study of the number of rating didn't prove as fruitful in gain of information. The number of beers slowly decreases with the number of ratings. Finally the universal and controversial beers proportion slightly increase, however those are two opposite clusters and does not make it more easy to find a trend.

							<h4><strong>Level of the user</strong></h4>
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/user_level.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							For this data analysis study we had the fantasy where we believed that the depending of the level of the users, he would grade beers differently. By level we mean that a user is first classified as novice, after having made 20 ratings he becomes an enthusiast and after 800 ratings he reaches the level of connoisseur. From the study we clearly see that the proportion of controversial and neutral rated beers decreases. The more a user rates beer the more he starts to grade universal beers. One would need to study the graders behavior to understand why they increase the proportion of universal beers. 
						</p>
						----- VALENTIN
						<p>
							<h4><strong>Number of reviews</strong></h4>
							
							We performed a similar analysis for the number of reviews per beer, showing that independently of the number of reviews, the distribution of the controversiality of the beers remains the same.
							From our analysis the amount of rating is negligibly correlated with the increase or decrease between the proportion of the beers classification.
							Furthermore the total amount of beer per rating is a heavy tail distribution. This lead us to believe that the number of rating impact on our analysis after the 
							threshold we set is smaller.
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/number_users.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							<h4><strong>Expertise level of the user</strong></h4>
							It is important to also consider which user made the review, the severity and controversialy is probably different at the first review compared to the 5,000th one.
							We classified the user in three categories: novice, enthusiasts and connoisseurs. 
							The more advanced an user is, the less there reviews are controversial and neutral. However, the proportion of universal ratings increase.
							This is interesting as it may show an effect from other reviews, or on the other side, a bias of expertise as reviews from connoisseurs may be taken more seriously than beginners.
							One could link this with a previous finding and hypothesize that the connoisseur are more subject to drink higher level of alcohol by volume beers, but this would need a study of this theory.
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/connoisseurs.png" style="max-width: 100%; height: auto;"/>
						</div>

						<p>
							<h4><strong>Country of the users</strong></h4>
							With approximately half of the reviews originating from the U.S.A., the following maps illustrates the frequency of labels (neutral, universal or controversial) assigned per country by the user from those respective regions.
							It is important to consider that some countries are less represented than others, particularly those where alcohol consumption is not a cultural norm, leading to a very low number of reviews.
							<br>
							<br>

							<div class="image-box">
								<select id="imageSelector" onchange="switchImage()">
									<option value="images/chauvin_controversial.png">Controversial</option>
									<option value="images/chauvin_neutral.png">Neutral</option>
									<option value="images/chauvin_universal.png">Universal</option>
								</select>
								<img id="displayedImage" src="images/chauvin_controversial.png" alt="Choose a map">
							</div>
						
							<script>
								function switchImage() {
									const imageSelector = document.getElementById('imageSelector');
									const displayedImage = document.getElementById('displayedImage');
									displayedImage.src = imageSelector.value;
								}
							</script>
						</p>
						<p>
							<h4><strong>Location of the brewery</strong></h4>
							Similarly, we analyzed the origin of the beers themselves.
							The goal was to determine whether certain countries have a higher proportion of beers labeled as controversial, for instance.
							we anticipated the percentages for each label category to lie around 37, 53 and 10% for the proportion of universal,
							controversial and neutral beers. 
							<br>
							<br>
							<div class="image-box">
								<select id="imageSelector2" onchange="switchImage2()">
									<option value="images/brewery_controversial.png">Controversial</option>
									<option value="images/brewery_neutral.png">Neutral</option>
									<option value="images/brewery_universal.png">Universal</option>
								</select>
								<img id="displayedImage2" src="images/brewery_controversial.png" alt="Choose a map">
							</div>
							<script>
								function switchImage2() {
									const imageSelector = document.getElementById('imageSelector2');
									const displayedImage = document.getElementById('displayedImage2');
									displayedImage.src = imageSelector.value;
								}
							</script>
						</p>
						<p>
							<h4><strong>Score of comment habit</strong></h4>
							Finally, we defined a score to measure comment habit. This score indicates whether users from
							a specific country tend to rate a higher proportion of beers
							coming from their own country or from foreign ones. On the map below the score approaches one if,
							for example, the proportion of universal labels is higher for home beers and tends to -1 if the
							proportion is higher for foreign beer.
							<br>
							<br>
							<div class="image-box">
								<select id="imageSelector3" onchange="switchImage3()">
									<option value="images/score_controversial.png">Controversial</option>
									<option value="images/score_neutral.png">Neutral</option>
									<option value="images/score_universal.png">Universal</option>
								</select>
								<img id="displayedImage3" src="images/score_controversial.png" alt="Choose a map">
							</div>
							<script>
								function switchImage3() {
									const imageSelector = document.getElementById('imageSelector3');
									const displayedImage = document.getElementById('displayedImage3');
									displayedImage.src = imageSelector.value;
								}
							</script>
						</p>
					</div>
				</section>
				<section class="wrapper style1 align-left">
					<div class="inner">
						<header>
							<h2>Conclusion</h2>
						</header>
						<p>
							Through various analytical approaches,  we did not identify a straightforward separation between the different features.
							An advanced clustering method (GMM) revealed three distinct clusters, enabling the classification of beers into the universal, neutral and controversial categories.
							While the sentiment analysis provided additional insights, it did not justify the cost of reducing the dataset size.
							Our analysis also highlighted a positive correlation between alcohol by volume and the proportion of universal beers
							while the number of ratings showed no significant effect on these proportions.
							Additionally, higher user levels  (from novice to enthusiast to connoisseur) were associated with an increased proportion of universal beer labels.
							Furthermore, the United States of America largely influenced the impact of the origin of the beers and users, due to its significant representation in the dataset.

							While we acknowledge that the threshold strongly influences our clusters, subsequent analysis suggests that the effect on them may not be as strong on the last couple of analysis.
						</p>
					</div>
				</section>

				<!-- PLOT EXAMPLE
				<div class="iframe-container">
					<iframe src="assets/plots/aabv_plot.html" class="responsive-iframe"></iframe>
				</div>
				-->

				<!-- Team Section -->
					<section class="wrapper style1 align-center">
						<div class="inner big">
							<h2>Meet the team</h2>
							<div class="items style1 medium onscroll-fade-in">
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Alan Wicht</h3>
									<p>Alan is a data scientist.</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Gustave Lapierre</h3>
									<p>Gustave is a data scientist.</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Jehan Piaget</h3>
									<p>Jehan is a data scientist.</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Mattéo Fiore</h3>
									<p>Mattéo is a data scientist and webmaster.</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Valentin Perret</h3>
									<p>Valentin is a data scientist.</p>
								</section>
							</div>
						</div>
					</section>
				<section class="wrapper style1 center">
					<div class="inner">
						<header>
							<h2>To go further</h2>
						</header>
						<p>
							Our study revealed that our clusters where sensitive to the number of beers used. Increasing
							the number of beers would improve the robustness of the clusters. However, achieving this requires
							addressing the impact of variance fluctuations in cases with a low number of ratings.
							While we chose a threshold which marks the beginning of a plateau, we observed that the variance still slowly decreases over
							the number of ratings. Therefore, developing a method to effectively weight the number of ratings of our analysis would improve the robustness of our analysis,
							enabling us to have even more precise results.
						</p>
						<p>
							Another way to delve deeper into understanding why a beer might be controversial is by analyzing
							qualitative reviews. While quantitative data analysis is already complex, the true insights behind
							a 7/10 rating, for instance, lie within the qualitative feedback. By using various analysis methods detailed in
							the <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/src/scripts/embeddings/README.md" target="_blank">GitHub</a>,
							we can extract relevant themes from the comments, such as taste, color, and other attributes.
							This approach not only allows us to determine whether the sentiment is positive or negative but
							also uncovers the underlying reasons behind these sentiments.
						</p>
						<p>
 							Although this method of analysis is time-consuming, it offers the potential to uncover deeper insights into what makes a beer controversial.
						</p>
					</div>
				</section>


				<!-- Footer -->
					<footer class="wrapper style1 align-center">
						<div class="inner big">
							<ul class="icons">
								<li>
									<a href="https://github.com/epfl-ada/ada-2024-project-abracadabra" target="_blank" rel="noopener noreferrer">Project Repository</a>
								</li>
								<li>
									<a href="https://github.com/matt762/abracadabra" target="_blank" rel="noopener noreferrer">Website Repository</a>
								</li>
								<li>
									<a href="https://epfl-ada.github.io/teaching/fall2024/cs401/" target="_blank" rel="noopener noreferrer">Course Website</a>
								</li>
							</ul>
							<p>&copy; abracADAbra 2024. Design: <a href="https://html5up.net" target="_blank" rel="noopener noreferrer">HTML5 UP</a>.</p>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>