<!DOCTYPE HTML>
<!--
	Story by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Why Some Beers Spark Debate: A Short Walk Through Controversial Brews</title>
		<meta charset="utf-8" />
		<link rel="icon" href="images/icon.png" type="image/x-icon" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
		<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper" class="divided">

				<!-- One -->
					<section class="banner style1 orient-left content-align-left image-position-center fullscreen onload-image-fade-in onload-content-fade-right invert">
						<div class="content">
							<h1><strong>Why Some Beers Spark Debate:</strong></h1>
							<h2>A Short Walk Through Controversial Brews</h2>
							
							<br>
							<br>

							<p class="major">Discover with us the in-depth analysis of the controversiality hidden behind beers.</a></p>
							<ul class="actions stacked">
								<li><a href="#first" class="button big wide smooth-scroll-middle">Get Started</a></li>
							</ul>
						</div>
						<div class="image">
							<img src="images/banner.jpg" alt="" />
						</div>
					</section>

				<!-- Two -->

				<section class="wrapper style1 align-left" id="first">
					<div class="inner">
					<div class="content">

							<blockquote><strong>The best beer is where priests go to drink. For a quart of Ale is a dish for a king.</strong></blockquote>
							<p style="font-size: smaller; font-style: italic; text-align: right; margin-right: 5em;">William Shakespeare</p>

						</div>
					</div>
				</section>

				<section class="wrapper style1 align-left">
					<div class="inner">

						<p>Shakespeare's poetic reference to beer demonstrates its esteemed position in society, even during the 17th century.
							However, even though his preference is solely a personal choice, which would likely be a topic of debate among enthusiasts,
							 beer has a longstanding cultural significance, enjoyed across diverse regions with unique brewing traditions.</p>
							 
					   <p> In the current globalised market, beer has become a shared experience with a wide range of preferences. 
						   While some beers achieved universal acclaim, others have sparked debate due to differences in flavor, regional brewing methods, and cultural context.
						   This dynamic interplay of preference and locality has turned some brews into cultural symbols and conversation starters.</p>

					   <p> The objective is to gain insight into the factors influencing the varying perceptions of beers. 
						   The analysis will focus on several categories: from « controversial » brews, which are those that receive polarised reviews, to « universal » beers, which receive more consistent reviews. 
						   The study analyses both quantitative ratings and textual reviews in order to examine how sensory attributes, such as aroma, appearance, palate and taste, influence consumer opinion. 
						   The study also examines regional differences and compares the input of novices and experts in order to gain insight into why some beers have broad appeal while others are the subject of intense debate.</p>

					   <p>Grab your favorite brew, and let's explore what the data says about the beers that stir up the strongest reactions.</p>

						<br>
						<br>

						<h2>Research questions</h2>
						<p>The following key questions define how this study is structured and what are the main topic that we will explore.</p>						
						<ul class="default" style="margin-left: 50px;">
							<li>How can we define and classify beer controversiality?</li>
							<li>Can we use the textual review to enhance our classification?</li>
							<li>Are there features explaining controversiality? </li>
						</ul>
					</div>
				</section>

				<section class="wrapper style1 align-left">
					<div class="inner">
						<header>
							<h2><a href="https://drive.google.com/drive/folders/1lcRRxlPpcyAcqJzanlwcyb5Vmip0s7_D" target="_blank">Data</a> presentation</h2>
						</header>

						<p>
							To begin this analysis, we first uncovered an interesting pattern: some breweries, beers, and users were present in both <a href="https://www.ratebeer.com/" target="_blank">RateBeer</a> and <a href="https://www.beeradvocate.com/" target="_blank">BeerAdvocate</a>.	We also found instances where a single brewery in one dataset corresponded to multiple entries in the other.
							We merged the two datasets into a single unified <a href="https://drive.google.com/drive/folders/1QlduSz83RzRv58ec6sGmJ7K6TlWlWi44" target="_blank">one</a> encompassing beers, breweries, users, and reviews, with consistent ID  matching across all features.
							More details on how the datasets were merged can be found <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/data/" target="_blank">here</a>.
						</p>
						<p>
							With the data now organised into a more accessible format, we can begin examining its core content. We start by looking at some key numbers.
						</p>
						<div class="image" style="text-align: center;">
							<h3 style="text-align: center;"><strong>Dataset summary</strong></h3>
							<img src="images/dataset_summary.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							This dataset provides a rich source of information for our analysis. Notably, approximately <strong>90% of the beers have at least one review</strong>, ensuring that the research will be both meaningful and insightful.
							For this project, we will focus solely on these beers.
						</p>
						<p>
							It is important to acknowledge, however, that the dataset is not fully representative. A significant portion of the reviews comes from American users, meaning our analysis primarily caters to their preferences and tastes.
							We decided not to rebalance the dataset, as doing so would have excluded many brews and reviews, that are still relevant to our analysis.
    						Below is a visualisation highlighting the 20 countries with the most reviews in our dataset.
						</p>
						<div class="flourish-embed flourish-hierarchy" data-src="visualisation/20776364"><h3 style="text-align: center;"><strong>Top countries by number of beer reviews</strong></h3><script src="https://public.flourish.studio/resources/embed.js"></script><noscript><img src="https://public.flourish.studio/visualisation/20776364/thumbnail" width="100%" alt="hierarchy visualization" /></noscript></div>
						<p>
							Reviews from both websites follow a similar structure: users rate the appearance, aroma, palate, and taste of each beer, as well as provide an overall grade.
							To standardize the data, we converted all ratings to a unified 1-to-5 scale, as this range is the most widely used. Please note that some of the scaled ratings have a different resolution.
						</p>
					</div>
				</section>

				<section class="wrapper style1 align-left">
					<div class="inner">
						<header>
							<h2>Exploring the definition of controversiality</h2>
						</header>

						<p>
							To identify controversiality in our dataset, we first need to define what it means and how to measure it. Let’s start with a general definition:
						</p>
						<dl>
							<dt>Controversial:</dt>
							<dd>
								<p>"subject of intense public argument, disagreement, or disapproval" 
								<sup>[<a href="https://www.collinsdictionary.com/dictionary/english/controversial" target="_blank" rel="noopener noreferrer">1</a>]</sup>
								</p>
							</dd>
						</dl>
						<p>
							While this definition is broad and applies to various situations, our analysis narrows it to beers with the most polarised reviews: those that are most likely to spark disagreement, even with a Shakespeare fan in the room.
							We base our analysis on user ratings across appearance, aroma, palate, taste and overall features as well as textual reviews.
						</p>
						<h4><strong>Preliminary considerations</strong></h4>
						<p>
							The metrics used for this analyis of user ratings is the variance, which describes the level of disagreement around the average score.
							Since variance is dimension-independent, it provides a consistent measure across attributes, relying uniquely on the given ratings.
							<br>
							<br>
							To ensure reliable results, we exclude beers with fewer than <strong>30</strong> ratings or reviews.
							More details on this decision can be found <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/data/" target="_blank">here</a>, as beers with lower ratings may show higher variance (e.g.only two extreme opinions).
						</p>
						<h4><strong>First classification</strong></h4>
						<p>
							With the data cleaned, the first step in classifying beers as controversial or not involves analysing
							the variances of each attribute. It may seem logical to use the variance of the overall grade, as it reflects a combination of each attribute.
							However, setting a threshold on this variance to classify beers presents challenges.
							A <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/data/" target="_blank">deeper analysis</a> revealed
							that using an arbitrary threshold primarily highlighted taste as the most polarizing factor.
							We believe that relying solely on a single parameter oversimplifies controversiality, and that it is inherently multi-dimensional and influenced by the interaction of all attributes.
						</p>

						<h4><strong>Clustering</strong></h4>

						<p>
							Recognising the limitations of a one-dimensional approach, we turned to a clustering method, only using the grades, and keeping the text for later.
							We chose to use a Gaussian Mixture Model (GMM), factoring in the variances of all five attributes, to group together beers.
							<br>
							<br>
							Using the elbow method on the negative log-likelihood plot, we determined <strong>3 clusters</strong> to be optimal.
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/gmm_label.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							<br>
							The clusters were computed using standardised variances. 
							They serve as our key metric for controversiality: High variance indicates controversy or disagreement, while low variance suggests a universal appeal.
							The plot shows standardised variances, where smaller values represent low variance, and larger values indicate high variance.
							Based on this, we define the clusters as follows:
						</p>
						<ul>
							<li>Cluster 0 : Controversial beers, representing 9.81% of the beers.</li>
							<li>Cluster 1 : Universal beers, representing 37.13% of the beers.</li>
							<li>Cluster 2 : Neutral beers, representing 53.06% of the beers.</li>
						</ul> 
						<br>

						<h2>Extracting insights from textual reviews</h2>

						<p>
							The Gaussian Mixture Model offers a more effective analysis by considering the interaction of all attributes.
							We are now going to extend our exploration by including insights from textual reviews to better define beer controversiality.
							Our first approach was to use a <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/src/scripts/sentiment%20analysis/README.md" target="_blank">sentiment analysis model</a> on every qualitative review, classifying each review as either Positive, Neutral, or Negative.
							<br>
							<br>

							With this new information, we attempted the Gaussian Mixture Model again, this time incorporating sentiment classifications.
							Three models were constructed, each categorises beers into three categories (Controversial, Universal and Neutral), but differs in the data used:
							<ul>
								<li><strong>Classifier 1</strong> uses all ratings, as before.</li>
								<li><strong>Classifier 2</strong> uses only ratings having textual reviews, accounting for sentiment label.</li>
								<li><strong>Classifier 3</strong> uses only ratings having textual reviews, not accounting for sentiment label.</li>
							</ul>
						</p>
						<div class="image" style="text-align: center;">
							<h3 style="text-align: center;"><strong>Percentage of beers that have the same labels between models</strong></h3>
							<img src="images/similarity_sentiment.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							Restricting the data to only reviews with text results in a <strong>14% loss</strong> in the dataset size.
							Despite the additional information provided by sentiment analysis, the results showed that the similarity between
							the models was high, suggesting that sentiment analysis did not significantly alter the classification.
							Considering the lack of improvement in classification accuracy, the loss of data and the uncertainty added by the sentiment analysis,
							we will pursue without using the sentiment analysis.
						</p>

						<h2>Analysing the potential results of controversiality</h2>

						<p>
							Now that we have a satisfying classification for the controversiality of the beers, we can start to explore the data to find the reasons behind it.
						</p>

						<p>
							<h4><strong>Main attributes</strong></h4>

							First, we analyse the distribution of the variances of the main attributes for each class.
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/varianceaftergmmdistrib.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							<strong>Appearance</strong> and <strong>palate</strong> exhibit the highest mean variance across all classes, suggesting they may contribute the most to the controversiality of a beer. 
							However, it is important to note that these scaled attributes have a lower resolution in the RateBeer dataset. 
							As a result, it amplifies the variance of these attributes.
							<br>
							<br>
							The plot also shows that there are no extreme outliers for universal and neutral class. This suggests that the GMM classification effectively separates beers with fewer controversial attributes and performs reliably in the classification.
						</p>

						<p>
							<h4><strong>Alcohol By Volume</strong></h4>

							Alcohol By Volume (ABV) is a key attribute of beer, influencing its taste. 
							We found, as expected, that extreme values of ABV are related to the controversilty of a beer. 
							For the next part we choose to not plot the beers beyond 20% ABV as there are too few to be significant, and caused fluctuations. 
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/abv.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							By analysing the evolution of the proportion of the classification of the beers per level of alcohol by volume we can extract that:
							<ul>
								<li>After a peak at around 5%, the more alcohol by volume the less beers there are.</li>
								<li>Most of the common beers (with an ABV between 2.5% and 7.5%) are neutral and some are controversial.</li>
								<li>Beers with a low abv (<5%) tends to be controversial or neutral, beers with a very high abv (>15%) also tends to shows this behaviour.</li>
								<li>Interestingly, the stronger beers (between 6% and 16%) are more likely to be universal or neutral.
									This would mean that the ratings of the users tends to converge on relatively strong beers.</li>
							</ul>
							<h4><strong>Number of ratings per beer</strong></h4>
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/number_of_ratings.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>

							We performed a similar analysis for the number of reviews per beer, showing that independently of the number of reviews, the proportion between the cluster remains the same.
							Furthermore the total amount of beer per number of rating is a heavy tail distribution. The impact of the number of ratings on our classification is thus low.

							<h4><strong>Level of the user</strong></h4>
							It is important to also consider which user made the review, the severity and controversialy might differ between their first and their last review. We choose to users into 3 categories <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/P3.ipynb" target="_blank">[4.4]</a>, novice with less than 20 reviews, enthusiast with less than 800 reviews and connoisseur with more than 800 reviews.
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/user_level.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							We can conclude that the connoisseur tends to drink and rate more universal beers and the novice tends to rate more controversial beers. We can also try to state some hypothesis mainly that:
							<ul>
								<li>Connoisseur might know their taste better, as a result they might drink more niche beers that would cater to them.</li>
								<li>Novice might weight in more importance to a specific attribute, while connoisseur might take various into account. As a result, connoisseur ratings might be more fair and thus closer to the mean</li>
								<li>The higher proportion of universal in the connoisseur might be due to the <a href=https://dlab.epfl.ch/people/west/pub/Lederrey-West_WWW-18.pdf>herding effect</a>. If the first few ratings are made by connoisseur, then the novice users might copy their opinions.</li>
						</p>
						<p>
							<h4><strong>Country of the users</strong></h4>
							The following maps illustrates the proportion of labels (neutral, universal or controversial) assigned depending on the users country of origin
							It is important to consider that some countries are less represented than others, particularly those where alcohol consumption is not a cultural norm, leading to a very low number of reviews. On the contrary, the USA still represents more than 50% of the reviews.
							<br>
							<br>

							<div class="image-box">
								<select id="imageSelector" onchange="switchImage()">
									<option value="images/chauvin_controversial.png">Controversial</option>
									<option value="images/chauvin_neutral.png">Neutral</option>
									<option value="images/chauvin_universal.png">Universal</option>
								</select>
								<img id="displayedImage" src="images/chauvin_controversial.png" alt="Choose a map">
							</div>
						
							<script>
								function switchImage() {
									const imageSelector = document.getElementById('imageSelector');
									const displayedImage = document.getElementById('displayedImage');
									displayedImage.src = imageSelector.value;
								}
							</script>
						</p>
						<p>
							<h4><strong>Location of the brewery</strong></h4>
							Similarly, we analysed the origin of the beers themselves.
							We anticipate the proportion of each category for each country to be similar to the overall division, especially for the country with a lot of beers.
							<br>
							<br>
							<div class="image-box">
								<select id="imageSelector2" onchange="switchImage2()">
									<option value="images/brewery_controversial.png">Controversial</option>
									<option value="images/brewery_neutral.png">Neutral</option>
									<option value="images/brewery_universal.png">Universal</option>
								</select>
								<img id="displayedImage2" src="images/brewery_controversial.png" alt="Choose a map">
							</div>
							<script>
								function switchImage2() {
									const imageSelector = document.getElementById('imageSelector2');
									const displayedImage = document.getElementById('displayedImage2');
									displayedImage.src = imageSelector.value;
								}
							</script>
							We can see that our hypothesis holds for the European countries. However, the US seem to have a higher percentage of universal beers than expected. Furthermore, south american, asian and some african countries, as well as some smaller countries, tends to have a higher proportion of controversial beers. Since some countries have fewer beers, they might have a higher proportion of controversial beers and not follow our initial hypothesis.
						</p>
						<p>
							<h4><strong>Score of comment habit</strong></h4>
							Finally, we defined a score to measure comment habit. This score indicates whether users tend to rate a higher proportion of local beers or foreign ones. On the map below the score approaches <strong>+1</strong> if
							the proportion of universal labels is higher for home beers and goes to <strong>-1</strong> if the
							proportion is higher for foreign beer.
							<br>
							Let \( s_x^{class} \) be the proportion of a category of beers (controversial, universal or neutral) that are from the same country as the user, and let \( s_y^{class} \) be the be the proportion of a category of beers that are from a different country as the user, we obtain that the score per country is defined as:
							\[ Score^{class} = s_x^{class} - s_y^{class}\]
							<br>
							<div class="image-box">
								<select id="imageSelector3" onchange="switchImage3()">
									<option value="images/score_controversial.png">Controversial</option>
									<option value="images/score_neutral.png">Neutral</option>
									<option value="images/score_universal.png">Universal</option>
								</select>
								<img id="displayedImage3" src="images/score_controversial.png" alt="Choose a map">
							</div>
							<script>
								function switchImage3() {
									const imageSelector = document.getElementById('imageSelector3');
									const displayedImage = document.getElementById('displayedImage3');
									displayedImage.src = imageSelector.value;
								}
							</script>
							We can observe that:
							<ul>
								<li>South American and Asian countries rates more universal foreign beers.</li>
								<li>South American countries have controversial opinion about their own beers.</li>
								<li>The USA are unique: beers from their country are more universal, and they rate foreign beers as controversial.</li>
								<li>Some Asian and African countries tend to not judge local or foreign beers differently.</li>
								<li>The mean for controversiality and neutrality is positive. Most countries tend to rate more controversially and neutrally beers of their own countries.</li>
								<li>Furthermore, the mean score for universality is negative, invalidating any hypothesis of chauvinism.</li>
							</ul>
							
							Note that the mean is not weighted with the amount of beers of a country, each country has the same influence on the mean score.
							
							The US produces the most beers, and has the most users, they also tends to grade their own beer as universally. Due to the importance of the US in the dataset we must keep in mind their influence and how it might bias the results. Other users would also drink those universal beers but they would be considered as foreign countries for them.
						</p>
					</div>
				</section>
				<section class="wrapper style1 align-left">
					<div class="inner">
						<header>
							<h2>Conclusion</h2>
						</header>
						<p>
							Our initial exploration of the dataset did not reveal a clear separation between beers. 
							Employing advanced clustering methods (GMM), we identified three primary clusters: universal, neutral, and controversial beers.
							Sentiment analysis was conducted, but its marginal benefits did not outweigh the cost of reducing the dataset size.
							<br>
							Further analysis revealed that the ABV plays a strong role, with the most controversial and neutral beers having the highest and lowest ABV, and a consencus on relatively strong beers.
							Interestingly, user expertise levels (novice, enthusiast, connoisseur) exhibited a strong association with the proportion of universal beers, with connoisseurs favoring them most.
							Geographical data highlighted the outsized influence of the USA due to its significant representation in the dataset, affecting the observed patterns in beer and user origins.
							<br>
							Just as Shakespeare's era recognized beer's cultural significance, our analysis reveals that the appreciation of beer continues to evolve, shaped by expertise, regional influences, and the complex interplay of brewing characteristics.
						</p>

						<br>
						<h2>To go further</h2>
						<p>
							Our study revealed that our clusters were sensitive to the number of beers used. Increasing
							the number of beers would improve the robustness of the clusters. However, achieving this requires
							addressing the impact of variance fluctuations in cases with a low number of ratings.
							While we chose a threshold which marks the beginning of a plateau, we observed that the variance still slowly decreases over
							the number of ratings. Therefore, developing a method to effectively weight the number of ratings of our analysis would improve the robustness of our analysis,
							enabling us to have even more reliable results.
						</p>
						<p>
							Another way to delve deeper into understanding why a beer might be controversial is by analysing
							qualitative reviews. While quantitative data analysis is already complex, the true insights behind
							a 7/10 rating, for instance, lie within the qualitative feedback. By using various analysis methods detailed in
							the <a href="https://github.com/epfl-ada/ada-2024-project-abracadabra/blob/main/src/scripts/embeddings/README.md" target="_blank">GitHub</a>,
							we can extract relevant themes from the comments, such as taste, color, and other attributes.
							This approach not only allows us to determine whether the sentiment is positive or negative but
							also uncovers the underlying reasons behind these sentiments.
 							Although this method of analysis is time-consuming, it offers the potential to uncover deeper insights into what makes a beer controversial.
						</p>
					</div>
				</section>

				<!-- Team Section -->
					<section class="wrapper style1 align-center">
						<div class="inner big">
							<h2>Meet the team</h2>
							<div class="items style1 medium onscroll-fade-in">
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Alan Wicht</h3>
									<p>Robotics</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Gustave Lapierre</h3>
									<p>Mechanical Engineering</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Jehan Piaget</h3>
									<p>Robotics</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Mattéo Fiore</h3>
									<p>Robotics</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Valentin Perret</h3>
									<p>Robotics</p>
								</section>
							</div>
						</div>
					</section>


				<!-- Footer -->
					<footer class="wrapper style1 align-center">
						<div class="inner big">
							<ul class="icons">
								<li>
									<a href="https://github.com/epfl-ada/ada-2024-project-abracadabra" target="_blank" rel="noopener noreferrer">Project Repository</a>
								</li>
								<li>
									<a href="https://github.com/matt762/abracadabra" target="_blank" rel="noopener noreferrer">Website Repository</a>
								</li>
								<li>
									<a href="https://epfl-ada.github.io/teaching/fall2024/cs401/" target="_blank" rel="noopener noreferrer">Course Website</a>
								</li>
							</ul>
							<p>&copy; abracADAbra 2024. Design: <a href="https://html5up.net" target="_blank" rel="noopener noreferrer">HTML5 UP</a>.</p>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>