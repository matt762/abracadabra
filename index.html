<!DOCTYPE HTML>
<!--
	Story by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Why Some Beers Spark Debate: A Short Walk Through Controversial Brews</title>
		<meta charset="utf-8" />
		<link rel="icon" href="images/icon.png" type="image/x-icon" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
		<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper" class="divided">

				<!-- One -->
					<section class="banner style1 orient-left content-align-left image-position-center fullscreen onload-image-fade-in onload-content-fade-right invert">
						<div class="content">
							<h1><strong>Why Some Beers Spark Debate:</strong></h1>
							<h2>A Short Walk Through Controversial Brews</h2>
							
							<br>
							<br>

							<p class="major">Discover with us the in-depth analysis of the controversiality hidden behind beers.</a></p>
							<ul class="actions stacked">
								<li><a href="#first" class="button big wide smooth-scroll-middle">Get Started</a></li>
							</ul>
						</div>
						<div class="image">
							<img src="images/banner.jpg" alt="" />
						</div>
					</section>

				<!-- Two -->

				<section class="wrapper style1 align-left" id="first">
					<div class="inner">
					<div class="content">

							<blockquote><strong>The best beer is where priests go to drink. For a quart of Ale is a dish for a king.</strong></blockquote>
							<p style="font-size: smaller; font-style: italic; text-align: right; margin-right: 5em;">William Shakespeare</p>

						</div>
					</div>
				</section>

				<section class="wrapper style1 align-left">
					<div class="inner">

						<p>Shakespeare's poetic reference to beer demonstrates its esteemed position in society, even during the 17th century.
							However, his preference is solely a personal choice, which would likely be a topic of debate among enthusiasts.
							 Beer has a longstanding cultural significance, enjoyed across diverse regions with unique brewing traditions.</p>
							 
					   <p> In the current globalised market, beer has become a shared experience with a wide range of preferences. 
						   While some beers have gained universal acclaim, others have sparked debate due to differences in flavor, regional brewing methods, and cultural context. 
						   This dynamic interplay of preference and locality has turned some brews into cultural symbols and conversation starters.</p>

					   <p> The objective is to gain insight into the factors influencing the varying perceptions of beers. 
						   The analysis will focus on several categories: from « controversial » brews, which are those that receive polarised reviews, to « universal » beers, which enjoy more consistent praise. 
						   The study analyses both quantitative ratings and textual reviews in order to examine how sensory attributes, such as aroma, appearance, palate and taste, influence consumer opinion. 
						    Furthermore, we analyse the sentiment within the reviews, identifying recurring keywords and phrases associated with these two types of beers. 
						   The study also examines regional differences and compares the input of novices and experts in order to gain insight into why some beers have broad appeal while others are the subject of intense debate.</p>

					   <p>Grab your favorite brew, and let's explore what the data says about the beers that stir up the strongest reactions.</p>

						<br>
						<br>

						<h2>Research questions</h2>
						<p>The following key questions define how this study is structured and what are the main topic that we will explore.</p>						
						<ul class="default" style="margin-left: 50px;">
							<li>How can we define controversiality and can we distinguish these two classes effectively?</li>
							<br>
							<li>Does the sentiment analyses match the rating, can we match the attributes with the sexntiment analyses? Can the sentiment analyses help with the definition of controversiality ?</li>
							<br>
							<li>Which attributes, such as aroma, appearance, palate, and taste, are most associated with a beer being perceived as controversial?</li>
							<br>
							<li>Are certain regions more likely to produce controversial beers or to have distinct, less popular opinions? Are locally brewed beers rated more controversially compared to foreign ones?</li>
							<br>
							<li>Does the number of reviews made by the reviewer contribute to controversial ratings? Does the origin of the rater have an impact on the rating?</li>
						</ul>
					</div>
				</section>

				<section class="wrapper style1 align-left">
					<div class="inner">
						<header>
							<h2>Data presentation</h2>
						</header>

						<p>
							To maintain consistency in our analysis, we format all data, including text, into CSV files. We then dive deeper into the data and uncover an interesting observation: breweries, beers, and even users appear in both RateBeer and BeerAdvocate. 
							Additionally, there are cases where a brewery in one dataset corresponds to multiple entries in the other dataset. Since our goal is to determine whether a beer is more controversial or more universally accepted, we merged the two datasets into one. 
							The result is a unified dataset for each feature, including beers, breweries, users, and reviews, with matching IDs across them. More details on how the datasets were merged can be found here.
						</p>
						<p>
							Now that the data is presented in a more manageable format, we can begin examining its core content. We start by looking at the number of data.
						</p>
						<div class="image" style="text-align: center;">
							<h3 style="text-align: center;"><strong>Dataset summary</strong></h3>
							<img src="images/dataset_summary.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							This dataset offers a rich source of information for our analysis. Fortunately, approximately <strong>90% of the beers have at least one review</strong>, ensuring that our findings will be both meaningful and insightful. 
							For this project, we will focus only on these beers.
						</p>
						<p>
							However, it’s important to note that our dataset is not fully representative. The majority of the reviews are from American, meaning our analysis largely reflects preferences and tastes specific to them. 
							We chose not to rebalance the dataset, as doing so would have excluded a variety of brews and reviews, which are still relevant for our later analysis. 
							The following plot presents the 20 countries with the most reviews in our dataset.
						</p>
						<div class="flourish-embed flourish-hierarchy" data-src="visualisation/20776364"><h3 style="text-align: center;"><strong>Top 20 countries by number of beer reviews</strong></h3><script src="https://public.flourish.studio/resources/embed.js"></script><noscript><img src="https://public.flourish.studio/visualisation/20776364/thumbnail" width="100%" alt="hierarchy visualization" /></noscript></div>
						<p>
							The reviews on both websites are structured in the same way: users can rate the appearance, aroma, palate, and taste of each beer, in addition to providing an overall grade for each beer. 
							However, we encounter our first issue here: the grading scales differ between the datasets, which complicates direct comparison. Let’s see how we address this!
						</p>

						<p>
							BeerAdvocate uses a 1 to 5 scale (with 0.25 increments) to rate attributes, while RateBeer uses varying scales: aroma and taste (1 to 10), appearance and palate (1 to 5), and overall (1 to 20), all with 1-point increments.
							To standardize the data, we converted all ratings to a 1 to 5 scale, as this range is the most common. However, differences in granularity between the datasets remain and will be explored in the analysis.
						</p>
					</div>
				</section>

				<section class="wrapper style1 align-left">
					<div class="inner">
						<header>
							<h2>Exploring the definition of controversiality</h2>
						</header>

						<p>
							To find controversiality in our dataset, we first need to understand what it is and how we may look for it in all that data. Here is global definition to begin with:
						</p>
						<dl>
							<dt>Controversial:</dt>
							<dd>
								<p>"subject of intense public argument, disagreement, or disapproval" 
								<sup>[<a href="https://www.collinsdictionary.com/dictionary/english/controversial" target="_blank" rel="noopener noreferrer">1</a>]</sup>
								</p>
							</dd>
						</dl>
						<p>
							This definition is broad and applies to various situations, but for our analysis, we will focus on beers with the most polarised reviews: those likely to spark disagreement, even with a Shakespeare fan in the room. 
							Our analysis relies on user ratings across appearance, aroma, palate, taste, overall, and textual reviews.
							<br>
							We begin by examining the variance in user ratings, which indicates the level of disagreement around the average score. 
							Variance is dimension-independent and consistent across attributes, based uniquely on the given ratings.
							<br>
							<br>
							Beers with fewer ratings tend to show higher variability (e.g., two extreme opinions). 
							To ensure reliable results, we exclude beers with ratings or reviews below a specified threshold.
							<br>
							We selected a threshold for minimum number of reviews of <strong>25</strong> ratings, as it balances data inclusion and variance reliability. More details can be found here.
						</p>
						<h4><strong>First classification</strong></h4>
						<p>
							With all that data cleaning, it is time to proceed to the first classification.
							To find if a beer is controversial or not, we will use the distribution of variances of each attribute.
							<br>
							The following plot shows the distribution of variances for each attribute.
						</p>
						<div class="image" style="text-align: center;">
							<h1 style="text-align: center;"><strong>!! USELESS PLOT !!</strong></h1>
							<img src="images/variance_attribute.png" style="max-width: 100%; height: auto;"/>
							<h1 style="text-align: center;"><strong>!! USELESS PLOT !!</strong></h1>
						</div>
						<p>
							It can be interesting to classify these beers based on the value of the overall grade variance since it should take in account all of hte other attributes. 
							However this raise the issue of defining a threshold for this variance. 
							You can find here a deeper analysis showing how an arbitrary threshold is still a decent way to classifiy those beers.
							It it interesting to note that the opinion is mainly related to the taste. 
							However, this analysis rely only on one parameter to classifiy, and we believe that controversiality is thus multi-faceted and depend on the interplay of all attributes.
						</p>

						<h4><strong>Clustering</strong></h4>

						<p>
							Initial analysis showed no clear way to classify beers by controversiality. 
							To tackle this, we now use a Gaussian Mixture Model (GMM), factoring in the variances of all five attributes to group beers as controversial, neutral, or universal. 
							This helps capture complex patterns in the data.
							<br>
							<br>
							Using the elbow method on the negative log-likelihood plot, we find the optimal number of clusters to be 3. 
							This seems to works well, as it would aligns with our goal of defining three groups: controversial, neutral, and universal. 
						</p>
						<div class="image" style="text-align: center;">
							<img src="images/gmm_label.png" style="max-width: 100%; height: auto;"/>
						</div>
						<p>
							The clusters were computed using standardized variances. 
							Variance serves as our key metric for controversiality: high variance indicates controversy, while low variance suggests universality. 
							The plot shows scaled variances, where smaller values (near 0) represent low variance, and larger values indicate high variance. 
							Based on this, we define the clusters as follows:
						</p>
						<ul>
							<li>Cluster 0 : Controversial beers, representing 8.96% of the beers.</li>
							<li>Cluster 1 : Universal beers, representing 41.41% of the beers.</li>
							<li>Cluster 2 : Neutral beers, representing 49.63% of the beers.</li>
						</ul>

						<br>

						<h2>Extracting informations from the textual reviews</h2>

						<p>
							That analysis seems better as the Gaussian Mixture Model allow us to take into account the interplay of all attributes. 
							Lets see now if we can use the textual reviews to help us define the controversiality of a beer.

							<br>

							Based on the first 6,000 comments, we selected the most accurate model to find the sentiment of each review. 
							Each review is classified in one of the following categories:
							<li>Positive</li>
							<li>Neutral</li>
							<li>Negative</li>

							<br>

							Since we don't have true labels for validation of model capabilities, we the similarity between models to compare them. 
							We selected a a BERT-based model since it has the best accuracy/cost ratio to run locally.

							<br>
							<br>

							With this new information in mind, let's try to do the Gaussian Mixture Model again, but this time with the sentiment of the reviews.
							<br>
							There are two models: <strong>Model 1</strong> is the one accounting for all ratings, and <strong>Model 2</strong> is the one accounting only for ratings with text (resulting in a <strong>13% loss of data</strong> to meet our 25 beers threshold).
							We compared the similarity between the two models in labelling beers in 3 categories: <strong>Controversial</strong>, <strong>Neutral</strong>, and <strong>Universal</strong>.
							We also
						</p>
						<div class="image" style="text-align: center;">
							<h3 style="text-align: center;"><strong>Percentage of beers that have the same labels between models</strong></h3>
							<img src="images/similarity_sentiment.png" style="max-width: 100%; height: auto;"/>
						</div>
					</div>
				</section>

				<!-- PLOT EXAMPLE
				<div class="iframe-container">
					<iframe src="assets/plots/aabv_plot.html" class="responsive-iframe"></iframe>
				</div>
				-->

				<!-- Team Section -->
					<section class="wrapper style1 align-center">
						<div class="inner big">
							<h2>Meet the team</h2>
							<div class="items style1 medium onscroll-fade-in">
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Alan Wicht</h3>
									<p>Alan is a data scientist.</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Gustave Lapierre</h3>
									<p>Gustave is a data scientist.</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Jehan Piaget</h3>
									<p>Jehan is a data scientist.</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Mattéo Fiore</h3>
									<p>Mattéo is a data scientist and webmaster.</p>
								</section>
								<section>
									<span class="icon style2 major fa-user"></span>
									<h3>Valentin Perret</h3>
									<p>Valentin is a data scientist.</p>
								</section>
							</div>
						</div>
					</section>

				<!-- Footer -->
					<footer class="wrapper style1 align-center">
						<div class="inner big">
							<ul class="icons">
								<li>
									<a href="https://github.com/epfl-ada/ada-2024-project-abracadabra" target="_blank" rel="noopener noreferrer">Project Repository</a>
								</li>
								<li>
									<a href="https://github.com/matt762/abracadabra" target="_blank" rel="noopener noreferrer">Website Repository</a>
								</li>
								<li>
									<a href="https://epfl-ada.github.io/teaching/fall2024/cs401/" target="_blank" rel="noopener noreferrer">Course Website</a>
								</li>
							</ul>
							<p>&copy; abracADAbra 2024. Design: <a href="https://html5up.net" target="_blank" rel="noopener noreferrer">HTML5 UP</a>.</p>
						</div>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>